<div class="container-2 border-radius-3 self-center mat-elevation-z4 grow-1 form-container">
  <h3 class="flex gap-1 v-center">
    <mat-spinner
      *ngIf="showLoading | async"
      color="primary"
      mode="indeterminate"
      diameter="25"
      strokeWidth="5"
    ></mat-spinner>

    Change password
  </h3>

  <form
    [formGroup]="formGroup"
    (ngSubmit)="handleSubmit()"
    class="flex flex-direction-column gap-2"
  >
    <mat-form-field class="grow-1">
      <mat-label>
        <i class="material-icons-outlined">password</i>
        Password
      </mat-label>

      <input
        matInput
        required
        type="password"
        placeholder="Enter your new password..."
        formControlName="password"
      >

      <mat-hint>Min 8, Max 20 symbols</mat-hint>

      <mat-error *ngIf="passwordFormControl.hasError('required')">
        Password is required
      </mat-error>

      <mat-error *ngIf="passwordFormControl.hasError('minlength')">
        Should be at least 8 symbols
      </mat-error>

      <mat-error *ngIf="passwordFormControl.hasError('maxlength')">
        Should be up to 20 symbols
      </mat-error>
    </mat-form-field>

    <mat-form-field class="grow-1">
      <mat-label>
        <i class="material-icons-outlined">password</i>
        Password confirmation
      </mat-label>

      <input
        matInput
        required
        type="password"
        placeholder="Confirm your new password..."
        formControlName="passwordForComparison"
      >

      <mat-hint>Min 8, Max 20 symbols</mat-hint>

      <mat-error *ngIf="passwordForComparisonFormControl.hasError('required')">
        Password is required
      </mat-error>

      <mat-error *ngIf="passwordForComparisonFormControl.hasError('minlength')">
        Should be at least 8 symbols
      </mat-error>

      <mat-error *ngIf="passwordForComparisonFormControl.hasError('maxlength')">
        Should be up to 20 symbols
      </mat-error>

      <mat-error *ngIf="passwordForComparisonFormControl.hasError('passwordsMismatch')">
        Нові паролі не збігаються
      </mat-error>
    </mat-form-field>

    <button
      mat-flat-button
      color="accent"
      type="submit"
      class="submit-button"
      [disabled]="formGroup.invalid"
    >
      Submit
    </button>

    <span
      *ngIf="errorMessageService.errorMessage"
      class="error-message"
    >
      {{ errorMessageService.errorMessage }}
    </span>
  </form>
</div>
